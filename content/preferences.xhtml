<vbox xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
      xmlns:html="http://www.w3.org/1999/xhtml"
      onload="Zotero.PDFerret.onPrefsLoad(document)">
  <linkset>
    <html:link rel="localization" href="pdferret.ftl"/>
  </linkset>

  <groupbox>
    <label><html:h2 data-l10n-id="pdferret-prefs-title"></html:h2></label>

    <hbox align="center" style="margin: 10px 0;">
      <checkbox id="pref-automatic-pdf-download"
                data-l10n-id="pdferret-prefs-automatic"/>
    </hbox>

    <hbox align="center" style="margin: 10px 0;">
      <label data-l10n-id="pdferret-prefs-provider-label" style="margin-right: 10px; min-width: 80px;"/>
      <menulist id="pref-provider-select" style="flex: 1; min-width: 200px;">
        <menupopup id="pref-provider-popup"/>
      </menulist>
    </hbox>

    <vbox id="builtin-url-section" style="margin: 10px 0;">
      <hbox align="center">
        <label id="builtin-url-label" style="margin-right: 10px; min-width: 80px;"/>
        <html:input type="text" id="pref-builtin-url" style="flex: 1; min-width: 200px;"/>
      </hbox>
      <html:p id="builtin-url-help" style="margin: 5px 0 0 90px; font-size: 11px; color: #666;"/>
    </vbox>
  </groupbox>

  <groupbox>
    <label><html:h2 data-l10n-id="pdferret-prefs-custom-title"></html:h2></label>
    <html:p data-l10n-id="pdferret-prefs-custom-help" style="margin-bottom: 10px; color: #666; font-size: 12px;"/>

    <vbox id="custom-providers-list" style="margin-bottom: 10px;">
    </vbox>

    <vbox id="add-provider-form" style="border: 1px solid #ccc; padding: 10px; border-radius: 4px; display: none;">
      <hbox align="center" style="margin-bottom: 8px;">
        <label data-l10n-id="pdferret-prefs-custom-name" style="margin-right: 10px; min-width: 100px;"/>
        <html:input type="text" id="new-provider-name" placeholder="My Provider" style="flex: 1;"/>
      </hbox>
      <hbox align="center" style="margin-bottom: 8px;">
        <label data-l10n-id="pdferret-prefs-custom-url" style="margin-right: 10px; min-width: 100px;"/>
        <html:input type="text" id="new-provider-url" placeholder="https://example.com/{DOI}" style="flex: 1;"/>
      </hbox>
      <hbox align="center" style="margin-bottom: 8px;">
        <label data-l10n-id="pdferret-prefs-custom-selector" style="margin-right: 10px; min-width: 100px;"/>
        <html:input type="text" id="new-provider-selector" placeholder="a[href*='.pdf']" style="flex: 1;"/>
      </hbox>
      <html:p data-l10n-id="pdferret-prefs-custom-selector-help" style="margin: 0 0 8px 110px; font-size: 11px; color: #666;"/>
      <hbox align="center" style="margin-bottom: 8px;">
        <label data-l10n-id="pdferret-prefs-custom-attribute" style="margin-right: 10px; min-width: 100px;"/>
        <html:input type="text" id="new-provider-attribute" placeholder="href" style="flex: 1;"/>
      </hbox>
      <html:p data-l10n-id="pdferret-prefs-custom-attribute-help" style="margin: 0 0 8px 110px; font-size: 11px; color: #666;"/>
      <hbox style="justify-content: flex-end; gap: 8px;">
        <button id="btn-cancel-provider" data-l10n-id="pdferret-prefs-btn-cancel" oncommand="Zotero.PDFerret.onPrefsHideAddForm(document)"/>
        <button id="btn-save-provider" data-l10n-id="pdferret-prefs-btn-save" oncommand="Zotero.PDFerret.onPrefsSaveProvider(document)"/>
      </hbox>
    </vbox>

    <hbox id="add-provider-btn-container">
      <button id="btn-add-provider" data-l10n-id="pdferret-prefs-btn-add" oncommand="Zotero.PDFerret.onPrefsShowAddForm(document)"/>
    </hbox>
  </groupbox>
</vbox>
